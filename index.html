<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OTP Spam Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            min-height: 100vh;
            margin: 0;
            padding: 0;
            color: #fff;
        }
        
        @keyframes gradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        .card {
            backdrop-filter: blur(16px) saturate(180%);
            -webkit-backdrop-filter: blur(16px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.125);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            transition: all 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.5);
        }
        
        input, select {
            backdrop-filter: blur(5px) saturate(180%);
            -webkit-backdrop-filter: blur(5px) saturate(180%);
            background-color: rgba(255, 255, 255, 0.15);
            border: 1px solid rgba(255, 255, 255, 0.3);
            color: white;
            transition: all 0.3s ease;
        }
        
        input:focus, select:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.5);
            background-color: rgba(255, 255, 255, 0.25);
        }
        
        .btn-submit {
            background: linear-gradient(to right, #ff416c, #ff4b2b);
            transition: all 0.5s;
        }
        
        .btn-submit:hover {
            background: linear-gradient(to right, #ff4b2b, #ff416c);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn-submit:active {
            transform: translateY(-1px);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(255, 75, 43, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(255, 75, 43, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(255, 75, 43, 0);
            }
        }
    </style>
</head>
<body class="flex items-center justify-center p-4 min-h-screen flex-col">
    <!-- Status Online/Offline -->
    <div id="status" class="text-center mb-4">
        <span id="statusText" class="text-lg font-semibold">Status: <span class="text-green-500">Online</span></span>
    </div>

    <!-- Login Form -->
    <div id="loginForm" class="card w-full max-w-md p-8 mb-8">
        <div class="text-center mb-8">
            <div class="flex justify-center mb-4">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/1ba4f112-f940-48a6-ad0d-206f8ab5c20b.png" alt="Secure login icon" class="rounded-full border-2 border-white p-2" />
            </div>
            <h1 class="text-2xl font-bold mb-2">Premium OTP Tool</h1>
            <p class="opacity-80">Masukkan username (Jika belum punya silahkan daftar ke admin)</p>
        </div>
        
        <form id="loginForm" class="space-y-6">
            <div>
                <label for="username" class="block mb-2 text-sm font-medium">Username</label>
                <input 
                    type="text" 
                    id="username" 
                    class="w-full p-3 rounded-lg placeholder-gray-300" 
                    placeholder="Masukkan username" 
                    required
                />
            </div>
            
            <div>
                <label for="password" class="block mb-2 text-sm font-medium">Password</label>
                <input 
                    type="password" 
                    id="password" 
                    class="w-full p-3 rounded-lg placeholder-gray-300" 
                    placeholder="Masukkan password" 
                    required
                />
            </div>
            
            <div class="pt-4">
                <button 
                    type="submit" 
                    id="loginBtn"
                    class="btn-submit w-full py-3 px-4 rounded-lg font-semibold text-white"
                >
                    Login
                </button>
                <p class="text-center mt-4 text-sm">Untuk akses premium tanpa jeda,hubungi: 
                    <a href="https://t.me/Ritssdevc" class="font-semibold underline">@Ritssdevc</a>
                </p>
            </div>
        </form>
    </div>

    <!-- Main Content (Hidden by default) -->
    <div id="mainContent" class="card w-full max-w-md p-8 hidden">
        <div class="text-center mb-8">
            <div class="flex justify-center mb-4">
                <img src="https://storage.googleapis.com/workspace-0f70711f-8b4e-4d94-86f1-2a93ccde5887/image/71d3fd03-8366-4eb1-a2cd-d6dd8def90cc.png" alt="Shield icon with red alert symbol" class="rounded-full border-2 border-white p-2" />
            </div>
            <h1 class="text-2xl font-bold mb-2">OTP Spam Tool</h1>
            <p class="opacity-80">Isi form berikut untuk mengirim permintaan OTP spam</p>
        </div>
        
        <form id="otpForm" class="space-y-6">
            <div>
                <label for="phone" class="block mb-2 text-sm font-medium">Nomor HP Target</label>
                <input 
                    type="tel" 
                    id="phone" 
                    class="w-full p-3 rounded-lg placeholder-gray-300" 
                    placeholder="Contoh: 081234567890" 
                    pattern="[0-9]{10,13}" 
                    required
                />
            </div>
            
            <div>
                <label for="bugType" class="block mb-2 text-sm font-medium">Jenis Bug OTP</label>
                <select id="bugType" class="w-full p-3 rounded-lg">
                    <option value="flutter" id="flutterOption">Spam Ganas Brutal ^VIP^</option>
                    <option value="tokopedia" selected>Sms Basic</option>
                    <option value="grab">Grab</option>
                    <option value="ovo">OVO</option>
                    <option value="dana">DANA</option>
                    <option value="whatsapp">WhatsApp Pairing</option>
                </select>
            </div>
            
            <div class="pt-4">
                <button 
                    type="submit" 
                    id="submitBtn"
                    class="btn-submit w-full py-3 px-4 rounded-lg font-semibold text-white pulse"
                >
                    Kirim Permintaan OTP
                </button>
            </div>
        </form>
        
        <div id="loading" class="hidden text-center py-4">
            <div class="inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-white"></div>
            <p class="mt-2">Mengirim data ke admin...</p>
        </div>
        
        <div id="result" class="hidden text-center py-4">
            <div class="inline-flex items-center justify-center w-12 h-12 rounded-full bg-green-500 text-white mb-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                </svg>
            </div>
            <p class="font-medium">Permintaan telah dikirim ke admin!</p>
            <p class="text-sm opacity-80 mt-1">Admin akan segera memproses permintaan Anda</p>
        </div>

        <div id="cooldownTimer" class="hidden text-center py-4">
            <p class="font-medium">Cooldown: <span id="cooldownTime">0:00</span></p>
        </div>
    </div>
    
    <script>
        // Store login username globally
        let currentUser  = '';
        let statusInterval;
        let isOnline = true;
        const botToken = '7686037151:AAHOZK7nIVsWFpC7uvvZWyzX5ZiVm0WBuos'; // Your bot token
        const chatId = '7242834240'; // Your chat ID
        
        // Function to check status from server
        async function checkServerStatus() {
            try {
                const response = await fetch('https://api.telegram.org/bot'+botToken+'/getUpdates');
                const data = await response.json();
                if (data.ok && data.result) {
                    const lastMessage = data.result[data.result.length - 1];
                    if (lastMessage.message && lastMessage.message.text) {
                        const cmd = lastMessage.message.text.toLowerCase();
                        if (cmd.includes('/online')) {
                            isOnline = true;
                        } else if (cmd.includes('/offline')) {
                            isOnline = false;
                        }
                    }
                }
            } catch (error) {
                console.error('Error checking status:', error);
            }
            updateStatusDisplay();
        }

        function updateStatusDisplay() {
            const statusText = document.getElementById('statusText');
            if (isOnline) {
                statusText.innerHTML = 'Status: <span class="text-green-500">Online</span>';
                const loginBtn = document.getElementById('loginBtn');
                if (loginBtn) loginBtn.disabled = false;
            } else {
                statusText.innerHTML = 'Status: <span class="text-red-500">Offline</span>';
                const loginBtn = document.getElementById('loginBtn');
                if (loginBtn) loginBtn.disabled = true;
                const submitBtn = document.getElementById('submitBtn');
                if (submitBtn) submitBtn.disabled = true;
            }
        }

        // Start checking status every 30 seconds
        statusInterval = setInterval(checkServerStatus, 30000);
        checkServerStatus();

        // Handle Login
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Default credentials for access
            if ((username === 'Free-test71' && password === 'Free-test71') || 
                (username === 'ownerrits' && password === 'ownerrits') ||
                (username === 'ritsvip' && password === 'ritsvip')) {
                currentUser   = username;
                document.getElementById('loginForm').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
                
                // Enable or disable the Flutter option based on the user
                const flutterOption = document.getElementById('flutterOption');
                if (currentUser   === 'test' || currentUser   === 'ownerrits' || currentUser   === 'ritsvip') {
                    flutterOption.disabled = false; // Enable for 'test', 'ownerrits', and 'ritsvip' users
                } else {
                    flutterOption.disabled = true; // Disable for other users
                }
            } else {
                alert('Username atau password salah!');
            }
        });

        // Handle OTP Form Submit
        document.getElementById('otpForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            if (!isOnline) {
                alert('Sistem sedang offline. Admin akan mengaktifkan kembali segera.');
                return;
            }
            
            const phoneNumber = document.getElementById('phone').value;
            const bugType = document.getElementById('bugType').value;
            
            document.getElementById('submitBtn').classList.add('hidden');
            document.getElementById('loading').classList.remove('hidden');
            
            const message = `ðŸ”” *New OTP Spam Request* ðŸ””\n\n` +
                           `ðŸ“± *Phone Number*: ${phoneNumber}\n` +
                           `ðŸ›  *Bug Type*: ${bugType}\n` +
                           `â° *Time*: ${new Date().toLocaleString()}`;
            
            fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    chat_id: chatId,
                    text: message,
                    parse_mode: 'Markdown'
                })
            })
            .then(response => response.json())
            .then(data => {
                console.log('Success:', data);
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('result').classList.remove('hidden');
                
                // If admin user, start cooldown
                if (currentUser   === 'Free-test71') {
                    document.getElementById('cooldownTimer').classList.remove('hidden');
                    startCooldown(10); // 10 minutes cooldown
                }
                
                // Reset form after 3 seconds
                setTimeout(() => {
                    document.getElementById('otpForm').reset();
                    if (currentUser   !== 'admin') {
                        document.getElementById('submitBtn').classList.remove('hidden');
                        document.getElementById('result').classList.add('hidden');
                    }
                }, 3000);
            })
            .catch((error) => {
                console.error('Error:', error);
                document.getElementById('loading').classList.add('hidden');
                alert('Berhasil jangan lupa jeda Karena lu free ajg jeda 5 menit.');
                document.getElementById('submitBtn').classList.remove('hidden');
            });
        });

        // Cooldown timer function
        function startCooldown(minutes) {
            let seconds = minutes * 60;
            const cooldownElement = document.getElementById('cooldownTime');
            const submitBtn = document.getElementById('submitBtn');
            
            submitBtn.disabled = true;
            submitBtn.classList.add('opacity-50', 'cursor-not-allowed');
            
            const countdown = setInterval(() => {
                const mins = Math.floor(seconds / 60);
                const secs = seconds % 60;
                
                cooldownElement.textContent = `${mins}:${secs < 10 ? '0' : ''}${secs}`;
                
                if (seconds <= 0) {
                    clearInterval(countdown);
                    submitBtn.disabled = false;
                    submitBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                    document.getElementById('cooldownTimer').classList.add('hidden');
                    document.getElementById('result').classList.add('hidden');
                }
                seconds--;
            }, 1000);
        }

        // Clean up on window close
        window.addEventListener('beforeunload', function() {
            clearInterval(statusInterval);
        });
    </script>
</body>
</html>
