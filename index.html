<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Investasi Online - Daftar & Investasi</title>
<style>
  /* Reset dan font */
  * {
    box-sizing: border-box;
  }
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; 
    background: linear-gradient(135deg, #e0f3ff 0%, #ffffff 100%);
    color: #1b2939;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  nav {
    text-align: center;
    background-color: #0d6efd;
    padding: 15px 0;
    box-shadow: 0 4px 8px rgba(13,110,253,0.3);
  }
  nav button {
    background: none; border: none; color: white; cursor: pointer;
    font-size: 18px; margin: 0 15px; padding: 8px 16px;
    border-radius: 6px; transition: background-color 0.3s;
    font-weight: 600;
  }
  nav button:hover, nav button:focus {
    background-color: rgba(255 255 255 / 0.25);
    outline: none;
  }

  .container {
    background: white;
    max-width: 450px;
    margin: 40px auto 60px;
    border-radius: 12px;
    padding: 30px 30px 40px;
    box-shadow: 0 10px 25px rgba(13, 110, 253, 0.15);
    flex-grow: 1;
  }
  h2 {
    margin-bottom: 25px;
    font-weight: 700;
    color: #0d6efd;
    text-align: center;
    letter-spacing: 0.05em;
  }
  label {
    display: block;
    margin-bottom: 6px;
    font-weight: 600;
    color: #33475b;
  }
  input[type="text"], input[type="password"], select {
    width: 100%;
    padding: 10px 14px;
    border: 1.8px solid #cbd5e1;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s;
  }
  input[type="text"]:focus, input[type="password"]:focus, select:focus {
    border-color: #0d6efd;
    outline: none;
    box-shadow: 0 0 6px #0d6efd80;
  }
  input[readonly] {
    background-color: #f8fafc;
    color: #6c757d;
    cursor: not-allowed;
  }
  button {
    width: 100%;
    background-color: #0d6efd;
    color: white;
    border: none;
    font-size: 18px;
    padding: 12px;
    margin-top: 28px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 700;
    box-shadow: 0 6px 15px #0d6efd99;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #084fc1;
    box-shadow: 0 8px 18px #084fc199;
  }

  #message, #investmentMessage {
    text-align: center;
    margin-top: 16px;
    font-weight: 600;
  }
  #message {
    color: #dc3545;
  }
  #investmentMessage {
    color: #198754;
  }

  #logoutBtn {
    width: 100%;
    background-color: #dc3545;
    box-shadow: 0 6px 15px #dc354599;
    margin-top: 30px;
  }
  #logoutBtn:hover {
    background-color: #b02a37;
    box-shadow: 0 8px 20px #b02a3799;
  }

  footer {
    background-color: #0d6efd;
    color: white;
    text-align: center;
    padding: 18px 10px;
    font-size: 15px;
    font-weight: 600;
    position: relative;
    bottom: 0;
    width: 100%;
    box-shadow: inset 0 1px 0 rgba(255 255 255 / 0.2);
  }
  footer a {
    color: #bbe1ff;
    margin: 0 16px;
    text-decoration: none;
    font-weight: 600;
  }
  footer a:hover {
    text-decoration: underline;
  }

  @media (max-width: 480px) {
    .container {
      margin: 20px 15px 60px;
      padding: 20px 20px 30px;
    }
    nav button {
      font-size: 16px;
      margin: 0 10px;
      padding: 8px 12px;
    }
  }
</style>
</head>
<body>

<nav>
  <button id="showRegister">Daftar Akun</button>
  <button id="showInvest">Investasi</button>
</nav>

<div id="registerPage" class="container" aria-label="Halaman Daftar Akun">
  <h2>Daftar Akun Baru</h2>
  <form id="registerForm" novalidate>
    <label for="emailOrPhone">Email atau Nomor HP:</label>
    <input type="text" id="emailOrPhone" name="emailOrPhone" placeholder="Masukkan Email atau Nomor HP" required autocomplete="username">

    <label for="password">Kata Sandi:</label>
    <input type="password" id="password" name="password" placeholder="Masukkan Kata Sandi" required autocomplete="new-password" minlength="6">

    <label for="referralCode">Kode Referal:</label>
    <input type="text" id="referralCode" name="referralCode" value="UVC96" readonly>

    <button type="submit" aria-label="Daftar akun baru">Daftar</button>
  </form>
  <div id="message" role="alert" aria-live="polite"></div>
</div>

<div id="investPage" class="container" style="display:none;" aria-label="Halaman Investasi Online">
  <h2>Investasi Online</h2>
  <p>Selamat datang, <span id="userDisplay" aria-live="polite"></span>!</p>
  <form id="investmentForm" novalidate>
    <label for="assetType">Pilih Jenis Aset:</label>
    <select id="assetType" name="assetType" required>
      <option value="">-- Pilih Aset --</option>
      <option value="emas">Emas</option>
      <option value="logam">Logam Mulia</option>
      <option value="saham">Saham</option>
      <option value="crypto">Crypto</option>
    </select>

    <label for="amount">Jumlah Pembelian (Rp):</label>
    <input type="text" id="amount" name="amount" placeholder="Masukkan Jumlah" required pattern="^\d+$">

    <button type="submit" aria-label="Beli aset sekarang">Beli Sekarang</button>
  </form>

  <button id="logoutBtn" aria-label="Logout dari akun">Logout</button>
  <div id="investmentMessage" role="alert" aria-live="polite"></div>
</div>

<footer>
  <span>© 2025 InvestasiOnline • Dibuat 21 Juli 2025</span>
  <a href="#" title="Tentang Website">Tentang Web</a>|
  <a href="#" title="Kebijakan Privasi">Privacy Policy</a>|
  <a href="#" title="Pusat Bantuan">Pusat Bantuan</a>
</footer>

<script>
  const registerPage = document.getElementById('registerPage');
  const investPage = document.getElementById('investPage');
  const userDisplay = document.getElementById('userDisplay');
  const message = document.getElementById('message');
  const investMsg = document.getElementById('investmentMessage');

  document.getElementById('showRegister').addEventListener('click', () => {
    showRegister();
  });
  document.getElementById('showInvest').addEventListener('click', () => {
    if (isLoggedIn()) {
      showInvest();
    } else {
      alert('Silakan daftar akun terlebih dahulu.');
      showRegister();
    }
  });

  function showRegister() {
    investPage.style.display = 'none';
    registerPage.style.display = 'block';
    message.textContent = '';
    investMsg.textContent = '';
  }

  function showInvest() {
    registerPage.style.display = 'none';
    investPage.style.display = 'block';
    investMsg.textContent = '';
    const user = JSON.parse(localStorage.getItem('currentUser'));
    if (user) {
      userDisplay.textContent = user.emailOrPhone;
    }
  }

  function isLoggedIn() {
    return !!localStorage.getItem('currentUser');
  }

  document.getElementById('logoutBtn').onclick = function() {
    localStorage.removeItem('currentUser');
    alert('Anda berhasil logout');
    showRegister();
  };

  document.getElementById('registerForm').addEventListener('submit', function(e) {
    e.preventDefault();
    message.textContent = '';

    const emailOrPhone = this.emailOrPhone.value.trim();
    const password = this.password.value.trim();

    if (!emailOrPhone || !password) {
      message.textContent = 'Email atau Nomor HP dan kata sandi wajib diisi.';
      return;
    }
    if(password.length < 6){
      message.textContent = 'Kata sandi minimal 6 karakter.';
      return;
    }

    let users = JSON.parse(localStorage.getItem('users') || '[]');
    const exists = users.find(u => u.emailOrPhone.toLowerCase() === emailOrPhone.toLowerCase());
    if (exists) {
      message.textContent = 'Email atau Nomor HP sudah terdaftar.';
      return;
    }

    const newUser = { emailOrPhone, password, referralCode: 'UVC96' };

    users.push(newUser);
    localStorage.setItem('users', JSON.stringify(users));
    localStorage.setItem('currentUser', JSON.stringify(newUser));

    this.reset();
    this.referralCode.value = 'UVC96';

    showInvest();
  });

  document.getElementById('investmentForm').addEventListener('submit', function(e) {
    e.preventDefault();
    investMsg.textContent = '';

    const assetType = this.assetType.value;
    const amount = this.amount.value.trim();

    if (!assetType) {
      investMsg.style.color = 'red';
      investMsg.textContent = 'Pilih jenis aset terlebih dahulu.';
      return;
    }
    if (!/^\d+$/.test(amount) || Number(amount) <= 0) {
      investMsg.style.color = 'red';
      investMsg.textContent = 'Masukkan jumlah valid (angka > 0).';
      return;
    }

    investMsg.style.color = 'green';
    investMsg.textContent = `Berhasil membeli ${assetType.toUpperCase()} senilai Rp ${parseInt(amount).toLocaleString('id-ID')}`;
    this.reset();
  });

  window.onload = function() {
    if (isLoggedIn()) {
      showInvest();
    } else {
      showRegister();
    }
  };
</script>

</body>
</html>
